<ion-view view-title="Substations {{substations.length}}"> 
  <ion-content>

    <div class="bar bar-header item-input-inset">
      <button ng-class="model.reorderFlag ? 'button button-icon ion-navicon': 'button button-icon ion-arrow-move'" ng-click="model.reorderFlag=!model.reorderFlag;"></button>
      <label class="item-input-wrapper">
        <i class="icon ion-ios-search placeholder-icon"></i>
        <input  type="search" placeholder="Search" ng-model="searchText">
      </label>
      <button  class="button button-icon ion-android-cancel" ng-click="searchText=''">
        
      </button>
      	
      	({{ filtered.length}})
        
    </div>
      <div class="item item-divider item-default">
       District: {{dId}}
      </div>
    

	<!-- <ion-refresher pulling-text="Pull to load Substations" on-refresh="reloadSubstations()"></ion-refresher> -->
    <ion-list show-reorder="model.reorderFlag" can-swipe="true">

      <ion-item class="item item-thumbnail-left item-icon-right item-remove-animate" ng-repeat="substation in filtered = (substations | filter:searchText)" href="#/app/substations/{{substation.idField}}"> <img ng-src="data/img/green-grid.png">
        <h2>{{substation.descriptionField}}</h2>
        <p>
          <i class="ion ion-navicon"></i><span>&nbsp;{{substation.idField}}</span>
        </p>
          <p>
          <i class="ion ion-navicon"></i><span>&nbsp;{{substation.typeField}}</span>
        </p>
        <p><i class="ion ion-calendar"></i><span>&nbsp;Eff: 12-Dec-2050</span></p>

        <i class="icon ion-chevron-right icon-accessory"></i>

        <ion-reorder-button class="ion-navicon" on-reorder="moveStation(substation,$fromIndex,$toIndex)"></ion-reorder-button>
        <ion-option-button class="mycolor" ng-click="addToFavorites(substation); clicked=!clicked;"><i ng-class="clicked ? 'icon ion-ios-heart-outline' : 'icon ion-heart'"></i></ion-option-button>

      </ion-item>


    </ion-list>
  </ion-content>
</ion-view>